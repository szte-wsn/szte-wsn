diff -rupN tinyos-tools-1.4.0//platforms/mica/uisp/src/cygwinp.C tinyos-tools-1.4.0-new//platforms/mica/uisp/src/cygwinp.C
--- tinyos-tools-1.4.0//platforms/mica/uisp/src/cygwinp.C	2006-12-12 19:23:01.000000000 +0100
+++ tinyos-tools-1.4.0-new//platforms/mica/uisp/src/cygwinp.C	2011-10-25 18:26:18.527410600 +0200
@@ -34,6 +34,7 @@
 #include <w32api/windows.h>
 #include "cygwinp.h"
 #include "DAPA.h"
+#include <cygwin/version.h>
 
 unsigned char inb(unsigned short port)
 {
@@ -104,6 +105,8 @@ bool cygwinp_delay_usec(long t)
 }
 
 
+/* cfmakeraw() defined in Cygwin's libc for Cygwin >= 1.7.2 */
+# if CYGWIN_VERSION_DLL_COMBINED < CYGWIN_VERSION_DLL_MAKE_COMBINED (1007, 2)
 int cfmakeraw(struct termios *termios_p)
 {
     termios_p->c_iflag &=
@@ -114,5 +117,5 @@ int cfmakeraw(struct termios *termios_p)
     termios_p->c_cflag |= CS8;
     return 0;
 }
-
+#endif
 #endif
diff -rupN tinyos-tools-1.4.0//platforms/mica/uisp/src/cygwinp.h tinyos-tools-1.4.0-new//platforms/mica/uisp/src/cygwinp.h
--- tinyos-tools-1.4.0//platforms/mica/uisp/src/cygwinp.h	2006-12-12 19:23:01.000000000 +0100
+++ tinyos-tools-1.4.0-new//platforms/mica/uisp/src/cygwinp.h	2011-10-25 18:27:18.833859900 +0200
@@ -31,5 +31,11 @@
 unsigned char inb(unsigned short port);
 void outb(unsigned char value, unsigned short port);
 int ioperm(unsigned short port, int num, int enable);
+/* cfmakeraw() is declared in termios.h in Cygwin >= 1.7.2 */
+#ifdef __CYGWIN__
+#include <cygwin/version.h>
+# if CYGWIN_VERSION_DLL_COMBINED < CYGWIN_VERSION_DLL_MAKE_COMBINED (1007, 2)
 int cfmakeraw(struct termios *termios_p);
+#endif
+#endif
 bool cygwinp_delay_usec(long t);
